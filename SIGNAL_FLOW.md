# 📡 Схема обработки сигнала FPV Interceptor

## 🔄 Полная схема обработки сигнала

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   FPV Дрон  │───▶│   Антенна   │───▶│   RX5808    │───▶│USB Video DVR│───▶│Raspberry Pi│
│ (5.8 ГГц)   │    │ (5.8 ГГц)   │    │  Модуль     │    │             │    │    4       │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
      │                   │                   │                   │                   │
      │                   │                   │                   │                   │
   Радиосигнал        Прием сигнала      Аналоговый         Оцифровка         Цифровой
   (5.8 ГГц)         (5.8 ГГц)          видеосигнал        (USB)             видеопоток
```

## 📊 Детальная схема подключения

```
                    ┌─────────────────────────────────────┐
                    │            FPV Дрон                 │
                    │         (Передатчик)               │
                    └─────────────────┬───────────────────┘
                                      │
                                      │ Радиосигнал 5.8 ГГц
                                      ▼
                    ┌─────────────────────────────────────┐
                    │            Антенна                  │
                    │         (5.8 ГГц)                   │
                    └─────────────────┬───────────────────┘
                                      │
                                      │ Принятый сигнал
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                    RX5808 Модуль                                        │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐   │
│  │     ANT     │  │    RSSI     │  │    VIDEO    │  │     SPI     │  │   Питание   │   │
│  │  (Антенна)  │  │ (GPIO 7)    │  │ (Аналоговый)│  │ (GPIO 8,10, │  │ (+5V, GND)  │   │
│  │             │  │             │  │             │  │    11)      │  │             │   │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘   │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ Аналоговый видеосигнал
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                  USB Video DVR                                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                   │
│  │ Video Input │  │ Audio Input │  │ USB Output  │  │   Питание   │                   │
│  │ (Аналоговый)│  │ (Не используется)│ (USB)      │  │ (USB)       │                   │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘                   │
└─────────────────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ Цифровой видеопоток (USB)
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                Raspberry Pi 4                                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                   │
│  │    GPIO     │  │     USB     │  │   OpenCV    │  │   Анализ    │                   │
│  │ (RSSI, SPI) │  │ (Video DVR) │  │ (Обработка) │  │ (RSSI, Video)│                   │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘                   │
└─────────────────────────────────────────────────────────────────────────────────────────┘
```

## 🔧 Ключевые моменты

### **1. Аналоговый сигнал:**
- RX5808 выдает **аналоговый** видеосигнал
- Не может быть напрямую обработан Raspberry Pi
- Требует оцифровки через USB Video DVR

### **2. Оцифровка:**
- USB Video DVR преобразует аналоговый сигнал в цифровой
- Создает USB видеопоток
- Совместим с OpenCV и стандартными видеодрайверами

### **3. Обработка:**
- Raspberry Pi получает цифровой видеопоток
- OpenCV анализирует кадры
- Обнаруживает FPV характеристики
- Сохраняет видеопотоки

## ⚠️ Важные замечания

### **НЕ ПОДКЛЮЧАЙТЕ:**
- ❌ RX5808 VIDEO напрямую к Raspberry Pi
- ❌ Аналоговый сигнал к GPIO
- ❌ Видеосигнал к SPI

### **ПРАВИЛЬНОЕ ПОДКЛЮЧЕНИЕ:**
- ✅ RX5808 VIDEO → USB Video DVR Input
- ✅ USB Video DVR → Raspberry Pi USB
- ✅ RX5808 RSSI → Raspberry Pi GPIO
- ✅ RX5808 SPI → Raspberry Pi SPI

## 📋 Список компонентов

### **Обязательные:**
1. **RX5808 модуль** - приемник 5.8 ГГц
2. **USB Video DVR** - оцифровка аналогового видео
3. **Антенна 5.8 ГГц** - прием радиосигнала
4. **Raspberry Pi 4** - обработка данных

### **Соединительные элементы:**
- Провода для GPIO подключения
- USB кабель для Video DVR
- Антенный кабель
- Блок питания

## 🎯 Результат

После правильного подключения:
- ✅ Прием FPV сигналов дронов
- ✅ Анализ RSSI в реальном времени
- ✅ Обнаружение видеосигналов
- ✅ Захват и сохранение видео
- ✅ Статистика и логирование
